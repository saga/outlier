# 基于时间序列的金融运营数据异常检测方法研究

刁勇
（大连海事大学 图书与档案馆，辽宁 大连 116026）
E-mail：[diao_yong@dlmu.edu.cn](mailto:diao_yong@dlmu.edu.cn)

---

## 摘要

金融机构 IT 基础设施在运行过程中会产生大量高维时间序列运营数据，其异常往往预示系统故障、性能退化或潜在风险。针对金融运营数据维度高、周期性强、异常样本稀缺及异常类型复杂等问题，本文提出了一种基于分层混合策略的无监督时间序列异常检测方法。该方法依据 Chandola 异常检测理论，对点异常、情境异常和集合异常进行统一建模，并构建由 **KNN 全局快速筛选、GRU 自编码器深度上下文建模以及加权融合与动态阈值决策** 组成的三阶段检测框架。在公开时间序列数据集（15 维特征、4981 个样本点、异常比例约 1.5%）上的实验结果表明，所提出的 **KNN+GRU** 混合方法在 GPU 加速条件下取得 **AUC-ROC 为 0.8117、F1 值为 0.4740、精确率为 0.4100、召回率为 0.5616**，在检测精度与误报控制方面优于对比方法 IForest+CNN-LSTM。结合 OpenTelemetry 与 Kafka 构建了实时异常检测工程化平台，验证了该方法在金融智能运维场景中的可行性与实用价值。

**关键词**：时间序列异常检测；金融运营数据；无监督学习；分层混合策略；OpenTelemetry

中图分类号：TP391
文献标识码：A

---

## 0 引言

随着金融科技和数字化转型的深入推进，金融机构 IT 系统规模不断扩大，微服务架构、分布式系统和云计算环境的广泛应用，使得系统运行过程中产生了海量的运营数据。这类数据包括指标、日志和链路追踪信息，具有显著的时间序列特征和高维特性。运营数据中的异常通常是系统故障、性能瓶颈、安全攻击或配置错误的早期信号，若不能及时发现，将严重影响业务连续性和服务质量，甚至引发重大经济损失和合规风险。

传统的基于规则和固定阈值的异常检测方法在早期运维场景中被广泛采用，但随着系统复杂度的提升，这类方法逐渐暴露出维护成本高、泛化能力弱和误报率高等问题。尤其是在金融场景中，业务负载具有明显的周期性和突发性特征，静态阈值难以适应动态变化的运行环境。

近年来，机器学习和深度学习方法在异常检测领域得到广泛研究，其中无监督方法由于不依赖大量标注数据，逐渐成为运营数据异常检测的重要研究方向。然而，单一模型往往难以同时兼顾对突发点异常和复杂时序模式异常的检测能力。为此，本文提出一种分层混合的无监督异常检测方法，通过融合传统机器学习与深度学习模型的优势，提高金融运营数据异常检测的准确性和稳定性。

本文的主要贡献如下：
（1）基于 Chandola 异常分类理论，对金融运营数据中的三类典型异常进行系统建模；
（2）提出一种三阶段分层混合异常检测框架，兼顾检测精度与计算效率；
（3）在公开数据集上进行实验验证，并结合工程实践构建实时异常检测平台。

---

## 1 相关研究

异常检测问题已在统计分析、数据挖掘和机器学习等领域得到广泛研究。Chandola 等对异常检测方法进行了系统综述，将异常划分为点异常、情境异常和集合异常三类，为后续研究提供了理论基础。

在传统方法方面，基于统计分布和距离度量的方法（如 Z-score、KNN、Isolation Forest）因实现简单、可解释性强而被广泛应用，但其对高维数据和复杂时序模式的适应能力有限。

随着深度学习的发展，基于自编码器、循环神经网络和 Transformer 的时间序列异常检测方法逐渐成为研究热点。LSTM、GRU 等模型能够有效捕捉长期时间依赖关系，在情境异常和集合异常检测中表现出较好性能。然而，深度模型通常训练成本较高，且对突发点异常的敏感性不足。

为弥补单一模型的不足，集成与混合策略逐渐受到关注。Song 等研究表明，集成模型在金融风险识别中能够获得更优的综合性能。近年来，多层或混合异常检测框架被用于复杂工业和金融场景，但在工程落地和实时性方面仍存在挑战。

综上所述，如何在保证检测精度的同时兼顾实时性和工程可落地性，仍是金融运营数据异常检测亟需解决的问题。

---

## 2 本文方法

### 2.1 异常类型定义

根据 Chandola 等提出的分类框架，结合金融运营数据特点，本文将异常划分为以下三类：

（1）**点异常**：单个时间点在多维特征空间中显著偏离正常分布；
（2）**情境异常**：数据点在特定上下文（如时间段、业务周期）下表现异常；
（3）**集合异常**：一段连续时间序列整体呈现异常模式，即使单点未超出阈值。

### 2.2 分层混合异常检测框架

本文提出的分层混合异常检测框架如**图 1**所示。该框架包含三个阶段：

* 第一阶段：基于 KNN 的全局快速筛选，用于检测显著点异常；
* 第二阶段：基于 GRU 自编码器的深度上下文建模，用于捕捉情境异常和集合异常；
* 第三阶段：通过加权融合与动态阈值策略输出最终异常判定结果。

**图1 分层混合时间序列异常检测整体框架**

### 2.3 算法模型与数学描述

第一阶段采用 KNN 近邻距离作为异常得分，衡量样本与其邻域的偏离程度；
第二阶段利用 GRU 自编码器对滑动窗口序列进行重构，采用均方误差作为异常度量；
第三阶段对两阶段得分进行归一化和加权融合，并基于动态阈值完成异常决策。

---

## 3 实验分析与验证

### 3.1 实验数据与评价指标

实验采用公开时间序列数据集，包含 15 维特征、4981 个样本点，其中异常样本 73 个，占比约 1.5%。评价指标包括 AUC-ROC、Precision、Recall 和 F1-score。

### 3.2 实验结果与对比分析

实验对比了 IForest+CNN-LSTM 与 KNN+GRU 两种混合策略，其性能如表 1 所示。

**表1 不同混合策略性能对比**

（表格内容略，与原实验数据一致）

实验结果表明，KNN+GRU 方法在 F1 值和精确率方面显著优于对比方法，能够在保持合理召回率的同时有效降低误报。

### 3.3 可视化结果分析

**图2** 给出了时间序列异常检测结果示意图，展示了模型对异常点和异常区间的识别效果。
**图3** 展示了不同方法的 ROC 曲线对比，进一步验证了本文方法的有效性。

---

## 4 工程实现与应用

本文基于 OpenTelemetry 构建统一的数据采集体系，通过 Kafka 实现流式数据传输，并将异常检测模块部署于实时处理链路中。检测结果最终存储于数据湖中，用于告警、回溯分析和模型迭代，为金融智能运维提供完整解决方案。

---

## 5 结论

本文提出了一种基于分层混合策略的无监督时间序列异常检测方法，并在金融运营数据场景下进行了实验验证。结果表明，该方法在检测精度、误报控制和工程可落地性方面均具有较好表现。未来将进一步研究在线学习和自适应权重机制，以应对长期概念漂移问题。

---

## 参考文献

（保持你原有参考文献列表）

